引言

1.  数据库名、表名等建议用反引号括起来。若刚好是关键字，可以用反引号`括起来。

​			如： Create dabase ‘create’;

2.  注释符号：

	- #
	- -- 后面加空格
	- /*  */

![image-20220225202516999](C:\Users\10275\AppData\Roaming\Typora\typora-user-images\image-20220225202516999.png)

### 数据库

#### 创建/删除数据库

1.Create database 数据库名;

2.Drop database 数据库名;

3.若需要规定字符集和校队规则。

Create database 数据库名 character set 字符集 collate 校对规则;

- 若不指定字符集，默认使用uft8。
- 若不指定校队规则，默认使用utf8_general_ci(不区分大小写)。
- 校对规则： utf8_bin(区分大小写)、 utf8_general_ci(不区分大小写)
  - *校对规则是：用于指定数据集如何排序，以及字符串的比对规则。*


#### 查询数据库

展示所有数据库：show databases;

查询数据库创建时候编写的语句： show create database 数据库名。

#### 备份/恢复数据库

  备份：把数据库内容，存多一份到文件中。

  恢复：当数据库文件被删除了，把文件中的文件，恢复到数据库。

**语法：**

备份恢复数据库

略。

 备份恢复数据库的某张表

略。

- 备份得到的sql文件，里面是一堆的SQL语句。
- 文件名需要填 绝对路径。



### 表

#### 创建

![image-20220728161239669](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202207281612738.png)

例如：

```mysql
CREATE TABLE `user` 
(
    id INT,
    `name` VARCHAR(255),
    `password` VARCHAR(255),
    `birthday` DATE
)CHARACTER SET utf8 COLLATE utf8_bin ENGINE INNODB;
```

#### 删除

```mysql
DROP TABLE table_name ;
```

#### 修改 

![image-20220728163337548](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202207281633683.png)

操作：

```mysql
-- 员工表 emp 的上增加一个 image 列，varchar 类型(要求在 resume 后面)。
ALTER TABLE emp
ADD image VARCHAR(32) NOT NULL DEFAULT '' AFTER RESUME
DESC employee -- 显示表结构，可以查看表的所有列

-- 修改 job 列，使其长度为 60。
ALTER TABLE emp	MODIFY job VARCHAR(60) NOT NULL DEFAULT '' 

-- 删除 sex 列。
ALTER TABLE emp	DROP sex

-- 表名改为 employee。
RENAME TABLE emp TO employee

-- 修改表的字符集为 utf8
ALTER TABLE employee CHARACTER SET utf8

-- 列名 name 修改为 user_name
ALTER TABLE employee
```





### 字段(列) 

#### 数值类型

![image-20220728162207595](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202207281622747.png)

数值可以指定是否带符号，无符号的范围更大。

- 默认有符号，使用无符号时，加关键词 unsigned

![image-20220728162424653](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202207281624771.png)

- Decimal可以存放很大的数

如：

```mysql
//创建表
CREATE TABLE t07 (
num DECIMAL(65));
//插入数据
INSERT INTO t07 VALUES(899999993333838838838383883838888888383);
```



#### 文本类型（字符串类型）

![image-20220728162621924](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202207281626020.png)

varchar和text一致，都是最多可以存65535个字符。（一字符占用一个字节）

- 文本类型需要指定最大值大小。

![image-20220728162829067](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202207281628159.png)

​	char(size)、varchar(varchar)

![image-20220728162811993](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202207281628094.png)

- char(4) 是固定大小，即使没有用完，也会占用4给字符空间，系统会把空余空间填充。
- varchar(4) 是变长，是按照实际占用空间来分配。varchar本身还需要占用1~3字节来记录存放内容长度。

**使用总结：**

​	数据定长使用char（如：身份证，邮编，手机号），查询速度更快。

​	数据长度不确定，使用varchar（如：留言，文章），也可使用text类型[text没有默认值]。



#### 二进制类型





#### 日期类型

使用：

```mysql
#创建一张表, date , datetime , timestamp
CREATE TABLE t14 (
    birthday DATE , -- 生日
    job_time DATETIME, -- 记录年月日 时分秒
    login_time TIMESTAMP 
    NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP 		-- 登录时间, 如果希望 login_time 列自动更新, 需要配置
);

INSERT INTO t14(birthday, job_time)
VALUES('2022-11-11','2022-11-11 10:10:10'); 
-- 如果我们更新 t14 表的某条记录，login_time 列会自动的以当前时间进行更新
```

timestamp特点是可以自动更新时间。


