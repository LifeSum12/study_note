## 达到要求所需的T轮次

条件：cnn模型，non-iid数据，epoch=10，batch_size=10，精度97.5%

​	fedavg：83轮

​	参与频类不平均聚合：97轮



条件：cnn模型，non-iid数据，epoch=5，batch_size=10，精度97.5%

​	fedavg：84轮

​	参与频类不平均聚合：92轮

​	不平均聚合（只-，或重新赋值0.1）：121轮

​	不平均聚合（只+，或重新赋值0.1）：⏳



条件：cnn模型，non-iid数据，epoch=5，batch_size=10，精度98.00%

​	fedavg：（153，227，166\*，187\*, 137*，154\* ,212\*,139\*,123,175\*，147）轮      ≈152

​	参与频类不平均聚合：（181，142\*，157\*, 157*,164\*, 202,168\*,173\*,200,174\*，152）轮    

​	不平均聚合（只-，或重新赋值0.1）：135轮

​	不平均聚合（只+，或重新赋值0.1）：⏳



```java
测试方法2与数据异构相关性。
条件：cnn模型，iid数据，epoch=5，batch_size=10，
   看看200，300轮分别能达到什么准确度。

```





条件：cnn模型，non-iid数据，epoch=5，batch_size=10，精度98.5%

​	fedavg：305轮

​	参与频类不平均聚合：253轮

​	不平均聚合（只-，或重新赋值0.1）： 253轮

​	不平均聚合（只+，或重新赋值0.1）：⏳



条件：cnn模型，non-iid数据，epoch=5，batch_size=10，精度99.00%

​	fedavg：206轮（论文）⏳无

​	参与频类不平均聚合：⏳

​	不平均聚合（只-，或重新赋值0.1）：❌无法达到，300轮降到10%

​	不平均聚合（只+，或重新赋值0.1）：⏳





210轮后，参与聚合10位用户的权重。

![image-20221108151051786](https://raw.githubusercontent.com/LifeSum12/typora-image/main/img/202211081511955.png)











---

---



## 不平均权重聚合

### mnist数据集--mlp模型--μ=0.01

⭐**global_epoch = 100 , local_epoch = 10 , batch_size = 10**   

> |---- Avg Train Accuracy: 88.77%
> |---- Test Accuracy: 88.71%

**global_epoch = 100 , local_epoch = 20 , batch_size = 10**   (增大local_epoch)

> |---- Avg Train Accuracy: 90.18%
> |---- Test Accuracy: 90.33%

**global_epoch = 100 , local_epoch = 5 , batch_size = 10**   (减少local_epoch)

> |---- Avg Train Accuracy: 87.45%
> |---- Test Accuracy: 88.45%

**global_epoch = 500 , local_epoch = 10 , batch_size = 10**   (增大global_epoch)

> ❌

**global_epoch = 500 , local_epoch = 20 , batch_size = 10**   (增大global_epoch，增大local_epoch)

> ❌

**global_epoch = 500 , local_epoch = 5 , batch_size = 10**   (增大global_epoch，减少local_epoch)

> ❌

⭐**global_epoch = 20 , local_epoch = 50 , batch_size = 10**   (小幅增大global_epoch，大幅增大local_epoch)

> |---- Avg Train Accuracy: 87.05%
> |---- Test Accuracy: 86.68%

⭐**global_epoch = 10 , local_epoch = 100 , batch_size = 10**   (小幅增大global_epoch，大幅增大local_epoch)

> |---- Avg Train Accuracy: 73.07%
> |---- Test Accuracy: 74.83%



### mnist数据集--cnn模型--μ=0.01

**global_epoch = 100 , local_epoch = 10 , batch_size = 10**   

> |---- Avg Train Accuracy: 96.93%
> |---- Test Accuracy: 96.77%



## 不平均权重聚合（只+不-）

### mnist数据集--mlp模型--μ=0.01

⭐**global_epoch = 100 , local_epoch = 10 , batch_size = 10**   

> |---- Avg Train Accuracy: 90.12%
> |---- Test Accuracy: 90.00%

⭐**global_epoch = 200 , local_epoch = 10 , batch_size = 10**   

> ---- Avg Train Accuracy: 93.03%
> ---- Test Accuracy: 93.00%

⭐**global_epoch = 300 , local_epoch = 10 , batch_size = 10**   

> ---- Avg Train Accuracy: 75.85%
> ---- Test Accuracy: 73.29%



### mnist数据集--cnn模型--μ=0.01





## 用户参与训练频率聚合

### mnist数据集--mlp模型--μ=0.01

⭐**global_epoch = 100 , local_epoch = 10 , batch_size = 10**   

> |---- Avg Train Accuracy: 91.12%
> |---- Test Accuracy: 91.39%

**global_epoch = 200 , local_epoch = 10 , batch_size = 10**   

>|---- Avg Train Accuracy: 92.20%
>|---- Test Accuracy: 91.26%

**global_epoch = 300 , local_epoch = 10 , batch_size = 10**   

> |---- Avg Train Accuracy: 93.17%
> |---- Test Accuracy: 93.33%





---

---





